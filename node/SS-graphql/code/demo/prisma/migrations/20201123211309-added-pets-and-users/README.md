# Migration `20201123211309-added-pets-and-users`

This migration has been generated by Luke at 11/23/2020, 4:13:09 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "User" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "name" TEXT NOT NULL
)

PRAGMA foreign_keys=OFF;
CREATE TABLE "new_Pet" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "type" TEXT NOT NULL,
    "name" TEXT NOT NULL,
    "userId" INTEGER NOT NULL,

    FOREIGN KEY ("userId") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE
);
INSERT INTO "new_Pet" ("id", "createdAt", "type") SELECT "id", "createdAt", "type" FROM "Pet";
DROP TABLE "Pet";
ALTER TABLE "new_Pet" RENAME TO "Pet";
PRAGMA foreign_key_check;
PRAGMA foreign_keys=ON
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201123204851..20201123211309-added-pets-and-users
--- datamodel.dml
+++ datamodel.dml
@@ -1,8 +1,8 @@
 // 1
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 // 2
 generator client {
@@ -13,8 +13,17 @@
 model Pet {
   id          Int      @id @default(autoincrement())
   createdAt   DateTime @default(now())
   type        String
+  name        String
+  owner       User
 }
+model User {
+    id      Int @id @default(autoincrement())
+    name    String
+    pets    Pet[]
+}
+
+
```


