# Migration `20201123203940-updated-schema`

This migration has been generated by Luke at 11/23/2020, 3:39:40 PM.
You can check out the [state of the schema](./schema.prisma) after the migration.

## Database Steps

```sql
CREATE TABLE "Pet" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP,
    "type" TEXT NOT NULL
)

CREATE TABLE "User" (
    "id" INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
    "createdAt" DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
)

CREATE TABLE "_PetToUser" (
    "A" INTEGER NOT NULL,
    "B" INTEGER NOT NULL,

    FOREIGN KEY ("A") REFERENCES "Pet"("id") ON DELETE CASCADE ON UPDATE CASCADE,
    FOREIGN KEY ("B") REFERENCES "User"("id") ON DELETE CASCADE ON UPDATE CASCADE
)

PRAGMA foreign_keys=off;
DROP TABLE "Link";
PRAGMA foreign_keys=on

CREATE UNIQUE INDEX "_PetToUser_AB_unique" ON "_PetToUser"("A", "B")

CREATE INDEX "_PetToUser_B_index" ON "_PetToUser"("B")
```

## Changes

```diff
diff --git schema.prisma schema.prisma
migration 20201123193937-testing-gql..20201123203940-updated-schema
--- datamodel.dml
+++ datamodel.dml
@@ -1,18 +1,25 @@
 // 1
 datasource db {
   provider = "sqlite"
-  url = "***"
+  url = "***"
 }
 // 2
 generator client {
   provider = "prisma-client-js"
 }
 // 3
-model Link {
+model Pet {
   id          Int      @id @default(autoincrement())
   createdAt   DateTime @default(now())
-  description String
-  url         String
-}
+  owner       User[]  @relation(references: [id])
+  type        String
+}
+
+model User {
+    id  Int @id @default(autoincrement())
+    createdAt   DateTime    @default(now())
+    pets Pet[] @relation(references: [id])
+}
+
```


