# Standup

Chris:
List ALL BPX SERVICES.
Marshaller
Mapping
DTO/BPO?
Implementation?
Signature?
Do we want to show services and endpoints?

What is the difference between ENDPOINT and SERVICE?

ENDPOINT is where we RECEIVE data from MASTERCARD.
SERVICES are where we provide data to PAYRAILZ

MASON: Finishing CAPO (Card as payment option). I talked with JIM about his sentiments: Greg from MC gave a response (about error codes). We need clarification.

## Headers:

The WSDL:
Consumer Maintenance Service.wsdl

references the ENVELOPE (a schema):
/Common_4/eumt/eumt003_envelope.xsd

WHICH IMPORTS the head (a schema):
head.001.001.01.xsd

WHICH INCLUDES the element:
AppHdr
(and the DOCUMENT)

## In the files:

`services` loads all the `mappers` and `consumer_maintenance`

in `consumer_maintenance` the class extends `BpxClient::Services::BaseService` with this block of code:

```
module BpxClient
  module Services

    class ConsumerMaintenanceService < BpxClient::Services::BaseService

      def initialize
        super('consumer_maintenance')
      end

      begin
        def call_service(request)

          app_header = BpxClient::Services::Mappers::BusinessApplicationHeader.new(request[:app_hdr])
          request = BpxClient::Services::Mappers::Emt2004::Request.new(request[:message])
          request_payload = request.build_request(app_header)
          response_payload = super(service_id, request_payload)

          # Determine if a business error is detected
          if response_payload.body[:response_payload][:document][:rjctn_resp].nil?
            result = BpxClient::Services::Mappers::Emt2104::Response.new(response_payload)
          else
            result = BpxClient::Services::Mappers::Eumt013::Response.new(response_payload)
          end
          result
```

So, write a test that checkse `ConsumerMaintenanceService`



Luke:
1. Updated tests per Jim's updates.
2. Successfully ran against SOAP server
3. Successfully ran header

Today:
1. Write more tests that include header with
2. Continue `request for link` service.


Jim's:
Service: consumer maint
File. EMT2004
wsdl: consumermaintenanceservice_2.wsdl
schema: eumt001: eumt.003


Mine:
Service: Request to link
File: RFP2010
wsdl: RTLInitiationService_2/rtlinitiationservice_2.wsdl
schema: rain.011.01

# Todos:
- [ ] Put together an example of a Ruby Hash, and run it as an example call.
- [ ] Do Rdoc for this project- for automatic documentaion
- [ ] Write tests that incldue header, and validate.
- [ ] Work on `request to link` service
- [ ] Give update on Dev portion of that. Tell percentage of completion for items. Also, on second slide, there is a place for risks/issues. Here is the link: https://docs.google.com/presentation/d/1WFcl4WY5xKLKBfBh0pH_XI5yHVwSTsoKlHzU5qgtj9E/edit#slide=id.g8b5423ab52_9_0.   **20% mapping, 80% development**
- [ ]
- [ ]

