# Zoom with Jim

Looking  at SOAP.

## Starting new recording.

On the *refactoring* branch.

Every service will have an INPU and an OUTPUT.
`eumt003`

Each request object has a header, and a body, called `request_builder`

Jim created `BusinessApplicationHeader`
Create a test for that

what is :
test an rpsec?


Start with the app header. Be able to parse it. Then parse with the class.

Parse them, and then check to see if it is valid.
Our tests should see if the XML is valid.
Get RPSEC to test business application header.


What is happening?
The SCHEMA DOCUMENT (XML) creates a request.If you have a SCHEMA, is can create the .xml file for it.
This creates a file with a lot of info we dont need.

What is really important is what is in the Mastercard BPX document.

Check what is in the MC document, and erase everything not deemed "required" in the MC doc.

Look at the spec, create the payload.
Create a MARSHALER (with YOKOGIRI) for each service.

cd bpx-client


 bundle install
 gem install bundler:2.1.2
 brew search rbenv
 brew install rbenv
 which rbenv
 rbenv init
 rbenv install
 rbenv install -l
 rbenv install 2.5.8
 rbenv local 2.5.8
 ruby -v
 rbenv shell 2.5.8
 rbenv init
 rbenv shell 2.5.8
 ruby -v
 gem install bundler
 gem install bundler:2.1.2
 bundle install
 gem install bundler:2.1.2
 gem list
 gem uninstall bundler --version 2.1.4
 bundle install
 gem install bundler:2.1.2
 ruby -v
 bundler -v
 bundle env
 rbenv rehash
 bundle install
 bundle exec
 bundle exec rspec



In the SPEC_HELPER, REQUIRE each class being testes

in each CLASS, require SPEC HELPER

RSPEC: Generate an XML(string), and compare it with what we have(the associated schema), and it has to be valid.
Ruby that can read `head.001.001.01.xsd`
## TODOS

- [ ] `business_application_header.rb` create timestamp
- [ ] Test if the right items arent passed into the file, that it fails (`business_application_header.rb`) line 14
- [ ] Text that XML input generateed MATCHED the XML doc we want to create. Test with demo files (@ 9:00 on the video with JIM) to make sure XML is valid

