## Daily Standup

Chris: Will make changes to PAYRAILZ update doc. He will put all services on there.

Jim: Yesterday Luke and I spoke. We dont have much time.
I want to review all 7 services.
We have got to see results.

Jim started sharing screen:

We are the CFI.
BPX does interactions with BSP that we dont care about.

SAVON returns the data in a RUBY HASH under `response_payload` (looking at the consumer_maintenance.rb file)

Mike: How do we make sure the code works?
Jim: We cant connect to the MC server, we are just testing on SOAP UI.
The work that needs to get done:

Under SOAPUI driver file: we need info to add here. This will be our RUBY HASH to enter. We need to write validators here.

Mason summarized the calls/responses in [this file](https://docs.google.com/document/d/1lTXkl0nrB7a2Uj4ziCKFzlfIFEVLnk7CesIbFZ4TKgE/edit#heading=h.vrw95bmt48zh)


## Payrailz Meeting

SONG snunnallee@payrailz.com
bhargav.dasari@levvel.io <bhargav.dasari@levvel.io>
chris.rigoni@levvel.io <chris.rigoni@levvel.io>
DENISE- Payment operations - ddelisle@payrailz.com <ddelisle@payrailz.com>
glangmeyer@payrailz.com <glangmeyer@payrailz.com>
HUONG htern@payrailz.com <htern@payrailz.com>
lgawlak@payrailz.com <lgawlak@payrailz.com>
luke.logan@levvel.io <luke.logan@levvel.io>
mason.packard@levvel.io <mason.packard@levvel.io>
Michael Drabic <michael.drabic@levvel.io>
PAUL pfranko@payrailz.com <pfranko@payrailz.com>
jim.boone@levvel.io <jim.boone@levvel.io>

Gereen is VP of Product

# Recap from last call
IPs were whitelisted yesterday.
Environment went down yesterday.
Dan will let us know when it is available. An email (from denise at Payrailz) went out with this info.

There have been no successful registrations and connections.
Horng: What about the certificate?

Mason: The certs we got did not match the cert/key. Mike recreated a cert/key, and confirmed they work. MC had to whitelist the IP, but it takes a few days for the whitelist to go through for approval.

MC then let us know there are 2 sets: 1 for postman, and 1 for signing messages.

Denise: MC did not send the correct certificate.

Horng: is the signed certificate ok?
Denise: MC mentioned 3 certificates.

Mason: We were trying to test before the site went down. We were just trying to get a connection. Some calls will need message signing. This is different from what POSTMAN is using.

Paul: Id like ot know which certs are being usde, and why. And what needs to be signed.
Mason: We know what needs to be signed, we just dont know the implementation- is it used for message signing, or postman?

I dont know too much and it wasnt in the original SOW.

Paul: I might have to reach out to MC about this.



## Jim to share demo:
Starts with `soapui_driver.rb`
Savon is in debug mode.

Response hashes: What does Huong want? How should this be returned?

Paul: We want to extract what we need, and log the raw response.
We will probably log these responses in the DB for reference.

Horng: What is needed to call the function to get all the data? On the way back in, we haev the full XML response. When it is returned to the client, critical info needed (errors, etc). Extract what is needed from XML in a separate component (in the logfile). What is passed to BPX client, this is the structure that is needed.

SO
return usedful info, log the rest.

Jim: If i run it again, there is an error.

Paul: We want errors, everything except `MsgInErr`, which is a base-64 hash.
Also the trace ID.We need to know how to match the call back to the request.

Jim: We are validating the XML on this local SOAP server and its responses.

Paul: If MC changes over time, we need to have GLOBAL, and the ability to extract info out of the response.


Paul: If the WSDL changes, it needs to automatically update the other values as well.

Jim: We talked about PAYLOAD and RESPONSE> We are putting validators on each part, and if everything is not entered, it will throw errors.

For documentation: What do you want to see?

Paul: Rubydoc is standard (rdoc)

JIM: What I showed you was the BPX service call. We need a server setup to test the endpoint (there are 3 services, and 6 mappings).
Is there a gateway?

Paul: We have a gateway that is JSON based. We could crete a ruby service as a gateway.

Hrong: Ill start a standalone SOAP server. This is a public server.

Paul: AWS has a generic gateway.  Thair gateway uses a lambda function to start the server.

Jim: SOAP for R is the standard ruby server.
We also have 3 RESTFUL responses (JSON). All CAPO, for tokenizations, they are all outgoing.

Jim: Do you want a BPX server? This might be a separate GEM.
Currently the DEMO is not certificate signing.
These classes will be consistent, and signed.

Hrong: How will timeouts be handled? BPX docs speak to this.

Jim: Wire exceptions and business logic exceptions.

Paul: we need to see if it goes through with an exception, if it didnt go through, etc. ANd an error with each.

Paul: I get excited to hit the LIVE server and get a response.

## Masons' speaking to mapping

Mason: I have all capo documentation mapped out.
Looking at this document:

https://drive.google.com/drive/folders/1O8L-rvv4NGO4ZFRRLor-qrHppJSUPnuc


Song: For next week,
## Questions:


What to do?
1. Update `.yml` file with links for the service, found in the `.wsdl` file.
2. Create `rtl_confirmation`file in `services` directory
3. Create  `rfp_2210` in `mappers` (this is the request) directory (jim did alot of these already)
4. Create `rfp_2310` in `mappers` (this is the response)
4. Get all required fields from the spreadsheet.
    1. Put static values in `.yml` file DONE
    2. put all others in the `rfp_2210` file
5. Build out the XML schema as a RUBY object in `rfp_2210`
6. Double check all items are being imported in the `mappers` file and the `services` file (Jim did alot of this already)


# Todos:
- [ ] Give update on Dev portion of that. Tell percentage of completion for items. Also, on second slide, there is a place for risks/issues. Here is the link: https://docs.google.com/presentation/d/1WFcl4WY5xKLKBfBh0pH_XI5yHVwSTsoKlHzU5qgtj9E/edit#slide=id.g8b5423ab52_9_0.   **20% mapping, 80% development**
- [x] Merge my **request to link** service into the **DEV** branch
- [ ] Check the input (a ruby hash) as a REQUEST, and VALIDATE against the schema.
- [X] Start on **request to link confirmation**
- [ ]
- [ ]
